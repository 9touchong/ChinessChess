/** 
 * 最简单的AlphaBeta 局面评分 原理 AI
*/
class AI{
    private AI_faction: string; //代表阵营
    private Map;
    private pieces_set;
    private VALUE_set;  //子力表,记录或定义每个子在每个位置的价值
    public constructor(Map,pieces_set,AI_faction){
        this.Map = Map;
        this.pieces_set = pieces_set;
        this.AI_faction = AI_faction;
        this.gene_VALUE_set();
        console.log("AI VALUE_set",this.VALUE_set);
    }
    private arr2clone(ori_arr){    //得到一个二维数组的克隆
        let new_arr = [];
        for (let t = 0 ; t < ori_arr.length ; t++){
            new_arr[t] = ori_arr[t].slice();
        };
        return new_arr;
    }
    private gene_VALUE_set(){
        /**
         * 生成VALUE_set
         * VALUE_set格式是{"r":{"m":[[]....],"c":....},"b"{.....}}
         */
        this.VALUE_set = {"r":{},"b":{}};
        this.VALUE_set["r"]["c"] = [
            [206,206,206,206,208,208,204,198,200,194],
            [208,212,208,213,211,212,209,208,208,206],
            [207,209,207,213,211,212,204,204,206,204],
            [213,216,214,216,214,214,212,212,212,212],
            [214,233,216,216,215,215,214,212,200,200],
            [213,216,214,216,214,214,212,212,212,212],
            [207,209,207,213,211,212,204,204,206,204],
            [208,212,208,213,211,212,209,208,208,206],
            [206,206,206,206,208,208,204,198,200,194]  
        ];
        this.VALUE_set["r"]["m"] = [
            [ 90, 90, 92, 93, 90, 90, 92, 93, 85, 88],
            [ 90, 96, 98,108,100, 98, 94, 92, 90, 85],
            [ 90,103, 99,100, 99,101, 98, 94, 92, 90],
            [ 96, 97,103,107,103,102, 95, 95, 93, 88],
            [ 90, 94, 99,100,104,103, 98, 92, 78, 90],
            [ 96, 97,103,107,103,102, 95, 95, 93, 88],
            [ 90,103, 99,100, 99,101, 98, 94, 92, 90],
            [ 90, 96, 98,108,100, 98, 94, 92, 90, 85],
            [ 90, 90, 92, 93, 90, 90, 92, 93, 85, 88]
        ];
        this.VALUE_set["r"]["x"] = [
            [  0,  0, 18,  0,  0,  0,  0,  0,  0,  0],
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
            [ 20,  0,  0,  0, 20,  0,  0,  0,  0,  0],
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
            [  0,  0, 23,  0,  0,  0,  0,  0,  0,  0],
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0]
        ];
        this.VALUE_set["r"]["s"] = [
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
            [ 20,  0, 20,  0,  0,  0,  0,  0,  0,  0],
            [  0, 23,  0,  0,  0,  0,  0,  0,  0,  0],
            [ 20,  0, 20,  0,  0,  0,  0,  0,  0,  0],
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0],
            [  0,  0,  0,  0,  0,  0,  0,  0,  0,  0]
        ];
        this.VALUE_set["r"]["j"] = [
            [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
            [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
            [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
            [8888,8888,8888,   0,   0,   0,   0,8888,8888,8888],
            [8888,8888,8888,   0,   0,   0,   0,8888,8888,8888],
            [8888,8888,8888,   0,   0,   0,   0,8888,8888,8888],
            [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
            [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
            [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0]
        ];
        this.VALUE_set["r"]["p"] = [
            [100, 98, 97, 96, 96, 95, 96, 97, 96, 96],
            [100, 98, 97, 99, 96, 96, 96, 96, 97, 96],
            [ 96, 96, 96, 99, 96, 99, 96,100, 98, 97],
            [ 91, 92, 91, 98, 96, 96, 96, 99, 98, 99],
            [ 90, 89, 92,100,100,100, 96,101, 98, 99],
            [ 91, 92, 91, 98, 96, 96, 96, 99, 98, 99],
            [ 96, 96, 96, 99, 96, 99, 96,100, 98, 97],
            [100, 98, 97, 99, 96, 96, 96, 96, 97, 96],
            [100, 98, 97, 96, 96, 95, 96, 97, 96, 96]
        ];
        this.VALUE_set["r"]["z"] = [
            [  9, 19, 19, 19, 14,  7,  7,  0,  0,  0],
            [  9, 24, 24, 23, 18,  0,  0,  0,  0,  0],
            [  9, 34, 32, 27, 20, 13,  7,  0,  0,  0],
            [ 11, 42, 37, 29, 27, 16, 15,  0,  0,  0],
            [ 13, 44, 37, 30, 29, 16, 15,  0,  0,  0],
            [ 11, 42, 37, 29, 27, 16, 15,  0,  0,  0],
            [  9, 34, 32, 27, 20, 13,  7,  0,  0,  0],
            [  9, 24, 24, 23, 18,  0,  0,  0,  0,  0],
            [  9, 19, 19, 19, 14,  7,  7,  0,  0,  0]
        ];
        for (let k in this.VALUE_set["r"]){
            let t_2arr = this.arr2clone(this.VALUE_set["r"][k]);
            for (let t_arr of  t_2arr){
                t_arr.reverse();
            };
            this.VALUE_set["b"][k] = t_2arr;
        };
    }
}